{% comment %}
  Renders facets (filtering and sorting)

  Accepts:
  - collection: {Object} Collection or Search object

  Usage:
  {% render 'sortBy-filter-desktop', collection: collection %}
{% endcomment %}


<facet-filters-form class="facets page-width small-hide no-js-hidden">
    <form class="facets-sort-form" id="FacetSortForm">
        <div class="facet-filters sorting">
            <div class="facet-filters__field">
                <h2 class="facet-filters__label">
                    <label for="SortBy">Sort by:</label>
                </h2>
                <div class="select">
                    {%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}
                    <select name="sort_by" class="facet-filters__sort select__select" id="SortBy" aria-describedby="a11y-refresh-page-message">
                        {%- for option in collection.sort_options -%}
                            <option value="{{ option.value | escape }}" {% if option.value == sort_by %} selected="selected" {% endif %}>
                                {{ option.name | escape }}
                            </option>
                        {%- endfor -%}
                    </select>
                    {% render 'icon-caret' %}
                </div>
            </div>
            <noscript>
                <button type="submit" class="facets__button-no-js button">
                    Sort
                </button>
            </noscript>
        </div>
    </form>
</facet-filters-form>
